truenasplugin: tnscale
    content images
    shared 1
    # Transport defaults to WebSocket JSON-RPC (ipv4-preferred)
    api_transport ws
    # IPv4 defaults: give IPv4 literal or a DNS A record
    api_host IPADDRESS
    api_key APIKEYHERE
    # SSL/TLS behavior
    api_scheme wss
    api_port 443
    api_insecure 1
    # Prefer IPv4 (defaults to 1 if omitted)
    prefer_ipv4 1
    # Where to create zvols
    dataset storage/pve
    force_delete_on_inuse 1
    zvol_blocksize 64K
    # Use a single shared iSCSI target (IQN) you created on TrueNAS
    target_iqn iqn.2005-10.org.freenas.ctl:proxmox
    # Discovery portals (IPv4 by default); you can add IPv6 later if needed
    discovery_portal IPADDRESS:3260
    #portals 10.20.30.42:3260
    # Initiator pathing
    use_multipath 1
    use_by_path 0
    ipv6_by_path 0
    # Optional CHAP (session)
    # chap_user mychap
    # chap_password s3cret